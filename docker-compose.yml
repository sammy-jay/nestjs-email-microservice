version: '3.8'
services:
  postgres:
    container_name: postgres_emailer
    image: postgres:14
    ports:
      - '5435:5432'
    volumes:
      - /data/postgres:/data/postgres
    env_file:
      - docker.env
    networks:
      - postgres_emailer

  rabbitmq:
    image: rabbitmq:3.10-management
    container_name: rabbitmq
    hostname: rabbitmq
    volumes:
      - /var/lib/rabbitmq
    ports:
      - "5672:5672"
      - "15672:15672"
    env_file:
      - ./rabbitmq.env
networks:
  postgres_emailer:
    driver: bridge
